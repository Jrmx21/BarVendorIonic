<!-- product-list.component.html -->
<ion-header>
  <ion-toolbar>
    <ion-title>
      Lista de productos
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-button (click)="openCart(true)">carrito</ion-button>
  <ion-list>
    <ion-card *ngFor="let product of products">
      <ion-button color="success" (click)="presentProductModal(product)">Ver m√°s</ion-button>
      <ion-card-title>{{ product.nombreProducto }}</ion-card-title>
      <ion-card-subtitle >{{ product.precio }}</ion-card-subtitle>
      <ion-card-subtitle >{{ product.existencias }}</ion-card-subtitle>
      <ion-button (click)="addProduct(product)">Agregar al carrito</ion-button>
    </ion-card>
  </ion-list>
</ion-content>

<ion-modal  [isOpen]="cartOpen">
  <!-- cart.page.html -->
  <ng-template>
<ion-header>
  <ion-toolbar>
    <ion-title>
      Carrito
    </ion-title>
    
  </ion-toolbar>
  <ion-button (click)="openCart(false); actualizarCarro();">Volver</ion-button>
</ion-header>

<ion-content>
  
 
  <ion-button expand="block" (click)="clearCart();actualizarCarro()">Vaciar carrito</ion-button>
  <ion-list *ngIf="cartItems.length == 0">
    <ion-item>
    <ion-label>No hay productos en el carrito</ion-label>
   
    </ion-item>
  </ion-list>
  <ion-list *ngIf="cartItems.length > 0">
    <ion-button (click)="openCart(false)">Volver</ion-button>
    <ion-item *ngFor="let item of cartItems; let i = index">
      
      <ion-label>{{ item.nombreProducto }}</ion-label>
      <ion-label slot="end">{{ item.precio }}</ion-label>
      <ion-button (click)="removeItem(i) ;actualizarCarro()">Eliminar</ion-button>
    </ion-item>
  </ion-list>
  <ion-button expand="block" (click)="placeOrder()">Realizar pedido</ion-button>
</ion-content>
</ng-template>
</ion-modal>